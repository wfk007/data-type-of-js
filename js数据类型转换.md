# js数据类型转换

#### Number

- **数值**：转换后还是原来的值
- **字符串**：如果可以被解析为数值，则转换成相应的数值，否则得到`NaN`。**空字符串转为0**
- **布尔值**：`true`转成`1`，`false`转成`0`
- **undefined**：转成`NaN`
- **null**：转成`0`
- **对象**：先调用对象自身的`valueOf`方法，如果返回原始类型值（数值、字符串和布尔值），则直接对该值使用`Number`方法，否则再调用`toString`方法，如果`toString`方法返回的还不是原始类型的值，则报错

#### String

- **数值**：转为相应的字符串
- **字符串**：转换后还是原来的值
- **布尔值**：`true`转为`'true'`,`false`转为`'false'`
- **undefined**：转为`'undefined'`
- **null**：转为`'null'`
- **对象**：先调用`toString`方法；如果返回的不是原始类型值，再调用`valueOf`方法；如果`valueOf`方法返回的还不是原始类型的值，则报错。调用顺序正好与`Number`方法相反

#### Boolean
以下六个值的转化结果为false，其他的值全部为true

- **undefined**
- **null**
- **-0**
- **+0**
- **NaN**
- **''**（空字符串）

> 空对象`{}`和空数组`[]`都会被转为`true`。所有对象的布尔值都是`true`，甚至连`false`对应的布尔对象也是`true`

#### 加法运算符的类型转换

1. 运算符之中存在字符串
    - 两个运算子中只要有一个是字符串，则另一个不管是什么类型，都会被自动转为字符串，然后执行**字符串连接**运算
2. 两个运算子都为数值或布尔值
    - 执行**加法运算**，布尔值转换为数值
3. 运算子之中存在对象
     - 如果存在非原始类型的值，先调用该对象的`valueOf`方法。如果返回结果为原始类型的值，则运用上面两条规则，否则继续调用该对象的`toString`方法，对其返回值运用上面两条规则s

#### 四个特殊表达式

1. `[] + []`
2. `[] + {}`
3. `{} + []`
4. `{} + {}`

```js
[] + [] //=> ''
[] + {} //=> '[object Object]'
{} + [] //=> 如果将空对象视为空代码块加以忽略，结果为0，如果不把空对象视为代码块，结果为'[object Object]'
{} + {} //=> 如果将空对象视为空代码块加以忽略，结果为NaN，如果不把空对象视为代码块，结果为'[object Object][object Object]'
```

> 对象的valueOf和toString方法